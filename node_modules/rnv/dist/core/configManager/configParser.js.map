{"version":3,"sources":["../../../src/core/configManager/configParser.js"],"names":["IGNORE_FOLDERS","configureRuntimeDefaults","c","runtime","appId","files","project","configLocal","_meta","currentAppConfigId","port","program","buildConfig","defaults","ports","platform","PLATFORMS","defaultPort","target","workspace","config","defaultTargets","scheme","localhost","isSystemWin","timestamp","Date","now","configPropsInjects","systemPropsInjects","runtimePropsInjects","INJECTABLE_RUNTIME_PROPS","forEach","key","push","pattern","override","bundleAssets","hosted","WEB_HOSTED_PLATFORMS","includes","supportedPlatforms","map","engine","dir","paths","platformTemplatesDir","isConnected","isValid","pDir","platformTemplatesDirs","checkIsRenativeProject","Promise","resolve","reject","configExists","white","fixRenativeConfigsSync","babelConfig","path","join","rnv","projectTemplate","RN_BABEL_CONFIG_NAME","_generateConfigPaths","pathObj","RENATIVE_CONFIG_NAME","RENATIVE_CONFIG_LOCAL_NAME","configPrivate","RENATIVE_CONFIG_PRIVATE_NAME","appConfigsDir","versionCheck","isWrapper","versionCheckCompleted","skipAutoUpdate","rnvVersionRunner","package","version","rnvVersionProject","devDependencies","grey","recCmd","actionNoUpdate","actionWithUpdate","actionUpgrade","message","type","name","choices","warningMessage","red","chosenAction","skipPackageUpdate","loadFile","fileObj","pKey","fileString","toString","JSON","parse","_formatBytes","Buffer","byteLength","e","_arrayMergeOverride","destinationArray","sourceArray","getEnginesPluginDelta","enginePlugins","missingEnginePlugins","selectedEngine","plugins","ePlugins","Object","keys","length","pluginKey","writeRenativeConfigFile","configPath","configData","generateBuildConfig","bytes","decimals","k","dm","sizes","i","Math","floor","log","parseFloat","toFixed","mergeOrder","defaultWorkspace","projectTemplates","pluginTemplates","appConfig","configs","configsPrivate","configsLocal","cleanPaths","filter","v","existsPaths","exists","plgs","extraPlugins","mergeFiles","engines","meta","generated","getTime","mergedConfigs","existsFiles","out","merge","all","arrayMerge","_refs","builds","result","size","_loadConfigFiles","parseAppConfigs","extendAppId","extend","dirs","fontsDirs","pluginDirs","fileObj1","path1","pathObj1","appConfigsDirNames","path2","pathObj2","fileObj2","path3","generateRuntimeConfig","assetConfig","common","platforms","assets","generateLocalConfig","resetAppId","_generatePlatformTemplatePaths","pt","originalPath","listAppConfigsFoldersSync","ignoreHiddenConfigs","dirPath","appConfigsDirs","appConfigDir","isDirectory","hidden","loadProjectTemplates","loadEngines","_loadWorkspacesSync","configWorkspaces","workspaces","parseRenativeConfigs","getRealPath","GLOBAL_RNV_DIR","projectName","appConfigBase","dir_LEGACY","workspaceAppConfigsDir","createRnvConfig","process","cmd","subCmd","projectRoot","cli","platformTemplates","platformTemplate","buildHooks","dist","home","template","command","subCommand","platformDefaults","RNV_HOME_DIR","RENATIVE_CONFIG_ENGINES_NAME","RENATIVE_CONFIG_PLUGINS_NAME","RENATIVE_CONFIG_TEMPLATES_NAME","USER_HOME_DIR","GLOBAL_RNV_CONFIG","RENATIVE_CONFIG_WORKSPACES_NAME","CURRENT_DIR","index","nodeModulesDir","srcDir","rnCliConfig","RN_CLI_CONFIG_NAME","npmLinkPolyfill","pluginsDir","fontsDir","runtimeDir","RENATIVE_CONFIG_RUNTIME_NAME"],"mappings":"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","sourcesContent":["/* eslint-disable import/no-cycle */\nimport path from 'path';\nimport merge from 'deepmerge';\n// import Ajv from 'ajv';\n// import { SCHEMAS, schemaRoot } from './schema';\n\nimport {\n    RENATIVE_CONFIG_NAME,\n    RENATIVE_CONFIG_PRIVATE_NAME,\n    RENATIVE_CONFIG_LOCAL_NAME,\n    RENATIVE_CONFIG_RUNTIME_NAME,\n    RENATIVE_CONFIG_WORKSPACES_NAME,\n    RENATIVE_CONFIG_PLUGINS_NAME,\n    RENATIVE_CONFIG_TEMPLATES_NAME,\n    RENATIVE_CONFIG_ENGINES_NAME,\n    RN_CLI_CONFIG_NAME,\n    RN_BABEL_CONFIG_NAME,\n    PLATFORMS,\n    USER_HOME_DIR,\n    RNV_HOME_DIR,\n    CURRENT_DIR,\n    INJECTABLE_RUNTIME_PROPS,\n    WEB_HOSTED_PLATFORMS\n} from '../constants';\nimport { getEngineByPlatform } from '../engineManager';\nimport { isSystemWin } from '../utils';\nimport {\n    copyFileSync,\n    mkdirSync,\n    writeFileSync,\n    readObjectSync,\n    getRealPath,\n    sanitizeDynamicRefs,\n    sanitizeDynamicProps,\n    mergeObjects,\n    fsExistsSync,\n    fsReadFileSync,\n    fsReaddirSync,\n    fsLstatSync\n} from '../systemManager/fileutils';\nimport { getConfigProp } from '../common';\n\nimport { getWorkspaceDirPath } from '../projectManager/workspace';\nimport {\n    chalk,\n    logError,\n    logTask,\n    logWarning,\n    logDebug,\n    logInfo,\n    getCurrentCommand\n} from '../systemManager/logger';\nimport {\n    checkAndCreateGitignore,\n    upgradeProjectDependencies\n} from '../projectManager/projectParser';\nimport { inquirerPrompt } from '../../cli/prompt';\nimport { loadPluginTemplates } from '../pluginManager';\n\n// const ajv = new Ajv({ schemas: SCHEMAS });\n\nconst IGNORE_FOLDERS = ['.git'];\n\n\nexport const configureRuntimeDefaults = async (c) => {\n    c.runtime.appId = c.files.project?.configLocal?._meta?.currentAppConfigId || null;\n\n    logTask('configureRuntimeDefaults', `appId:${c.runtime.appId}`);\n\n    // TODO:\n    // version\n    // title\n\n    c.runtime.port = c.program.port\n  || c.buildConfig?.defaults?.ports?.[c.platform]\n  || PLATFORMS[c.platform]?.defaultPort;\n    if (c.program.target !== true) {\n        c.runtime.target = c.program.target\n      || c.files.workspace.config?.defaultTargets?.[c.platform];\n    } else c.runtime.target = c.program.target;\n    c.runtime.scheme = c.program.scheme || 'debug';\n    c.runtime.localhost = isSystemWin ? '127.0.0.1' : '0.0.0.0';\n    c.runtime.timestamp = c.runtime.timestamp || Date.now();\n    // c.runtime.engine = getEngineByPlatform(c, c.platform);\n\n    c.configPropsInjects = c.configPropsInjects || [];\n    c.systemPropsInjects = c.systemPropsInjects || [];\n    c.runtimePropsInjects = [];\n\n    INJECTABLE_RUNTIME_PROPS.forEach((key) => {\n        c.runtimePropsInjects.push({\n            pattern: `{{runtimeProps.${key}}}`,\n            override: c.runtime[key]\n        });\n    });\n    if (c.buildConfig) {\n        c.runtime.bundleAssets = getConfigProp(c, c.platform, 'bundleAssets', false);\n        const { hosted } = c.program;\n        c.runtime.hosted = (hosted || !c.runtime.scheme.bundleAssets) && WEB_HOSTED_PLATFORMS.includes(c.platform);\n\n        // c.runtime.devServer = `http://${ip.address()}:${c.runtime.port}`;\n        if (c.buildConfig.defaults?.supportedPlatforms) {\n            c.runtime.supportedPlatforms = c.buildConfig.defaults.supportedPlatforms.map((platform) => {\n                const engine = getEngineByPlatform(c, platform);\n                const dir = engine?.paths?.platformTemplatesDir;\n                let isConnected = false;\n                let isValid = false;\n                const pDir = c.paths.project.platformTemplatesDirs?.[platform];\n                if (pDir) {\n                    isValid = true;\n                    isConnected = pDir?.includes?.(getRealPath(c, dir));\n                }\n                const port = c.buildConfig.defaults?.[platform] || PLATFORMS[platform]?.defaultPort;\n                return {\n                    engine,\n                    platform,\n                    isConnected,\n                    port,\n                    isValid\n                };\n            });\n        }\n    }\n    return true;\n};\n\nexport const checkIsRenativeProject = c => new Promise((resolve, reject) => {\n    if (!c.paths.project.configExists) {\n        return reject(\n            `This directory is not ReNative project. Project config ${chalk().white(\n                c.paths.project.config\n            )} is missing!. You can create new project with ${chalk().white(\n                'rnv new'\n            )}`\n        );\n    }\n\n    return resolve();\n});\n\nexport const fixRenativeConfigsSync = async (c) => {\n    logTask('fixRenativeConfigsSync');\n\n    // Parse Project Config\n    // checkAndCreateProjectPackage(c, 'renative-app', 'ReNative App');\n\n    // Check gitignore\n    checkAndCreateGitignore(c);\n\n    // Check babel-config\n    logDebug('configureProject:check babel config');\n    if (!fsExistsSync(c.paths.project.babelConfig)) {\n        logInfo(\n            `Your babel config file ${chalk().white(\n                c.paths.project.babelConfig\n            )} is missing! CREATING...DONE`\n        );\n        copyFileSync(\n            path.join(c.paths.rnv.projectTemplate.dir, RN_BABEL_CONFIG_NAME),\n            c.paths.project.babelConfig\n        );\n    }\n\n    return true;\n};\n\nconst _generateConfigPaths = (pathObj, dir) => {\n    pathObj.dir = dir;\n    pathObj.config = path.join(dir, RENATIVE_CONFIG_NAME);\n    pathObj.configLocal = path.join(dir, RENATIVE_CONFIG_LOCAL_NAME);\n    pathObj.configPrivate = path.join(dir, RENATIVE_CONFIG_PRIVATE_NAME);\n    pathObj.appConfigsDir = path.join(dir, '..');\n};\n\nexport const versionCheck = async (c) => {\n    logTask('versionCheck');\n\n    if (c.runtime.isWrapper || c.runtime.versionCheckCompleted || c.files.project?.config?.skipAutoUpdate) {\n        return true;\n    }\n    c.runtime.rnvVersionRunner = c.files.rnv?.package?.version;\n    c.runtime.rnvVersionProject = c.files.project?.package?.devDependencies?.rnv;\n    logTask(\n        `versionCheck:rnvRunner:${c.runtime.rnvVersionRunner},rnvProject:${\n            c.runtime.rnvVersionProject\n        }`,\n        chalk().grey\n    );\n    if (c.runtime.rnvVersionRunner && c.runtime.rnvVersionProject) {\n        if (c.runtime.rnvVersionRunner !== c.runtime.rnvVersionProject) {\n            const recCmd = chalk().white(`$ npx ${getCurrentCommand(true)}`);\n            const actionNoUpdate = 'Continue and skip updating package.json';\n            const actionWithUpdate = 'Continue and update package.json';\n            const actionUpgrade = `Upgrade project to ${\n                c.runtime.rnvVersionRunner\n            }`;\n\n            const { chosenAction } = await inquirerPrompt({\n                message: 'What to do next?',\n                type: 'list',\n                name: 'chosenAction',\n                choices: [actionNoUpdate, actionWithUpdate, actionUpgrade],\n                warningMessage: `You are running $rnv v${chalk().red(\n                    c.runtime.rnvVersionRunner\n                )} against project built with rnv v${chalk().red(\n                    c.runtime.rnvVersionProject\n                )}. This might result in unexpected behaviour!\nIt is recommended that you run your rnv command with npx prefix: ${\n    recCmd\n} . or manually update your devDependencies.rnv version in your package.json.`\n            });\n\n            c.runtime.versionCheckCompleted = true;\n\n            c.runtime.skipPackageUpdate = chosenAction === actionNoUpdate;\n\n            if (chosenAction === actionUpgrade) {\n                upgradeProjectDependencies(c, c.runtime.rnvVersionRunner);\n            }\n        }\n    }\n    return true;\n};\n\nexport const loadFile = (fileObj, pathObj, key) => {\n    const pKey = `${key}Exists`;\n    if (!fsExistsSync(pathObj[key])) {\n        pathObj[pKey] = false;\n        logDebug(`WARNING: loadFile: Path ${pathObj[key]} does not exists!`);\n        logDebug(`FILE_EXISTS: ${key}:false path:${pathObj[key]}`);\n        return false;\n    }\n    pathObj[pKey] = true;\n    try {\n        const fileString = fsReadFileSync(pathObj[key]).toString();\n        fileObj[key] = JSON.parse(fileString);\n        pathObj[pKey] = true;\n        logDebug(`FILE_EXISTS: ${key}:true size:${_formatBytes(Buffer.byteLength(fileString, 'utf8'))}`);\n        // if (validateRuntimeObjectSchema && fileObj[key]) {\n        //     const valid = ajv.validate(schemaRoot, fileObj[key]);\n        //     if (!valid) {\n        //         logWarning(`Invalid schema in ${pathObj[key]}. ISSUES: ${JSON.stringify(ajv.errors, null, 2)}`);\n        //     }\n        // }\n        return fileObj[key];\n    } catch (e) {\n        logError(`loadFile: ${pathObj[key]} :: ${e}`, true); // crash if there's an error in the config file\n        return false;\n    }\n};\n\n// export const loadFiles = (fileArr, pathArr) => {\n//     const pKey = `${key}Exists`;\n//     pathArr.forEach((item, i) => {\n//       if (!fsExistsSync(pathObj[key])) {\n//           pathObj[pKey] = false;\n//           logDebug(`WARNING: loadFile: Path ${pathObj[key]} does not exists!`);\n//           logDebug(`FILE_EXISTS: ${key}:false path:${pathObj[key]}`);\n//           return false;\n//       }\n//     });\n//\n//\n//     pathObj[pKey] = true;\n//     try {\n//         const fileString = fsReadFileSync(pathObj[key]).toString();\n//         fileObj[key] = JSON.parse(fileString);\n//         pathObj[pKey] = true;\n//         logDebug(`FILE_EXISTS: ${key}:true size:${_formatBytes(Buffer.byteLength(fileString, 'utf8'))}`);\n//         return true;\n//     } catch (e) {\n//         logError(`loadFile: ${pathObj[key]} :: ${e}`, true); // crash if there's an error in the config file\n//         return false;\n//     }\n// };\n\nconst _arrayMergeOverride = (destinationArray, sourceArray) => sourceArray;\n\n\nconst getEnginesPluginDelta = (c) => {\n    logDebug('getEnginesPluginDelta');\n\n    if (!c.buildConfig) return;\n\n\n    const enginePlugins = {};\n    const missingEnginePlugins = {};\n    // const supPlats = c.files.project?.config?.defaults?.supportedPlatforms;\n    // if (supPlats) {\n    //     supPlats.forEach((pk) => {\n    //         const selectedEngine = getEngineByPlatform(c, pk, true);\n    //         if (selectedEngine?.plugins) {\n    //             const ePlugins = Object.keys(selectedEngine.plugins);\n    //\n    //             if (ePlugins?.length) {\n    //                 ePlugins.forEach((pluginKey) => {\n    //                     if (!c.files?.project?.config?.[pluginKey]) {\n    //                         missingEnginePlugins[pluginKey] = selectedEngine.plugins[pluginKey];\n    //                     }\n    //                     enginePlugins[pluginKey] = selectedEngine.plugins[pluginKey];\n    //                 });\n    //             }\n    //         }\n    //     });\n    // }\n    const selectedEngine = getEngineByPlatform(c, c.platform, true);\n    if (selectedEngine?.plugins) {\n        const ePlugins = Object.keys(selectedEngine.plugins);\n\n        if (ePlugins?.length) {\n            ePlugins.forEach((pluginKey) => {\n                if (!c.files?.project?.config?.[pluginKey]) {\n                    missingEnginePlugins[pluginKey] = selectedEngine.plugins[pluginKey];\n                }\n                enginePlugins[pluginKey] = selectedEngine.plugins[pluginKey];\n            });\n        }\n    }\n    c.runtime.missingEnginePlugins = missingEnginePlugins;\n    return enginePlugins;\n};\n\nexport const writeRenativeConfigFile = (c, configPath, configData) => {\n    logDebug(`writeRenativeConfigFile:${configPath}`);\n    writeFileSync(configPath, configData);\n    generateBuildConfig(c);\n};\n\nconst _formatBytes = (bytes, decimals = 2) => {\n    if (bytes === 0) return '0 Bytes';\n\n    const k = 1024;\n    const dm = decimals < 0 ? 0 : decimals;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n    return `${parseFloat((bytes / (k ** i)).toFixed(dm))} ${sizes[i]}`;\n};\n\nexport const generateBuildConfig = (c) => {\n    logDebug('generateBuildConfig');\n\n    const mergeOrder = [\n        c.paths.defaultWorkspace.config,\n        c.paths.rnv.projectTemplates.config,\n        c.paths.rnv.pluginTemplates.config,\n        // c.paths.rnv.platformTemplates.config,\n        c.paths.workspace.config,\n        c.paths.workspace.configPrivate,\n        c.paths.workspace.configLocal,\n        c.paths.workspace.project.config,\n        c.paths.workspace.project.configPrivate,\n        c.paths.workspace.project.configLocal,\n        ...c.paths.workspace.appConfig.configs,\n        ...c.paths.workspace.appConfig.configsPrivate,\n        ...c.paths.workspace.appConfig.configsLocal,\n        c.paths.project.config,\n        c.paths.project.configPrivate,\n        c.paths.project.configLocal,\n        ...c.paths.appConfig.configs,\n        ...c.paths.appConfig.configsPrivate,\n        ...c.paths.appConfig.configsLocal\n    ];\n    const cleanPaths = mergeOrder.filter(v => v);\n    const existsPaths = cleanPaths.filter((v) => {\n        const exists = fsExistsSync(v);\n        if (exists) {\n            logDebug(`Merged: ${v}`);\n        } else {\n            // console.log(chalk().red(v));\n        }\n        return exists;\n    });\n\n    const pluginTemplates = {};\n    if (c.files.rnv.pluginTemplates.configs) {\n        Object.keys(c.files.rnv.pluginTemplates.configs).forEach((v) => {\n            const plgs = c.files.rnv.pluginTemplates.configs[v];\n            pluginTemplates[v] = plgs.pluginTemplates;\n        });\n    }\n\n    const extraPlugins = getEnginesPluginDelta(c);\n\n    const mergeFiles = [\n        c.files.defaultWorkspace.config,\n        c.files.rnv.projectTemplates.config,\n        { plugins: extraPlugins },\n        // { pluginTemplates },\n        c.files.rnv.engines.config,\n        c.files.workspace.config,\n        c.files.workspace.configPrivate,\n        c.files.workspace.configLocal,\n        c.files.workspace.project.config,\n        c.files.workspace.project.configPrivate,\n        c.files.workspace.project.configLocal,\n        ...c.files.workspace.appConfig.configs,\n        ...c.files.workspace.appConfig.configsPrivate,\n        ...c.files.workspace.appConfig.configsLocal,\n        c.files.project.config,\n        c.files.project.configPrivate,\n        c.files.project.configLocal,\n        ...c.files.appConfig.configs,\n        ...c.files.appConfig.configsPrivate,\n        ...c.files.appConfig.configsLocal\n    ];\n\n    // mergeFiles.forEach((mergeFile, i) => {\n    //     console.log(`MERGEDIAGNOSTICS ${i}`, Object.keys(mergeFile?.plugins || {}));\n    // });\n\n    const meta = [\n        {\n            _meta: {\n                generated: new Date().getTime(),\n                mergedConfigs: existsPaths\n            }\n        }\n    ];\n    const existsFiles = mergeFiles.filter(v => v);\n\n    logDebug(\n        `generateBuildConfig:mergeOrder.length:${\n            mergeOrder.length\n        },cleanPaths.length:${cleanPaths.length},existsPaths.length:${\n            existsPaths.length\n        },existsFiles.length:${existsFiles.length}`\n    );\n\n    let out = merge.all([...meta, ...existsFiles], {\n        arrayMerge: _arrayMergeOverride\n    });\n    out = merge({}, out);\n    out.pluginTemplates = pluginTemplates;\n\n    c.buildConfig = sanitizeDynamicRefs(c, out);\n    c.buildConfig = sanitizeDynamicProps(c.buildConfig, c.buildConfig._refs, {}, c.runtime);\n\n    logDebug('BUILD_CONFIG', Object.keys(c.buildConfig));\n\n    if (c.runtime.appId) {\n        c.paths.project.builds.config = path.join(\n            c.paths.project.builds.dir,\n            `${c.runtime.appId}_${c.platform}.json`\n        );\n\n        logDebug(\n            `generateBuildConfig: will sanitize file at: ${\n                c.paths.project.builds.config\n            }`\n        );\n\n        if (c.paths.project.builds.dir) {\n            const result = writeFileSync(c.paths.project.builds.config, c.buildConfig);\n            if (result) {\n                const size = _formatBytes(Buffer.byteLength(result || '', 'utf8'));\n                logTask(chalk().grey('generateBuildConfig'), `size:${size}`);\n            } else {\n                logDebug(`generateBuildConfig NOT SAVED: ${c.paths.project.builds.config}`);\n            }\n        } else {\n            logWarning('Cannot save buildConfig as c.paths.project.builds.dir is not defined');\n        }\n    }\n\n\n    // DEPRECATED\n    // if (Config.isRenativeProject) {\n    //     const localMetroPath = path.join(c.paths.project.dir, 'metro.config.local.js');\n    //\n    //     if (c.platform) {\n    //         fsWriteFileSync(localMetroPath, `module.exports = ${getSourceExtsAsString(c)}`);\n    //     } else if (!fsExistsSync(localMetroPath)) {\n    //         fsWriteFileSync(localMetroPath, 'module.exports = []');\n    //     }\n    // }\n};\n\nconst _loadConfigFiles = (c, fileObj, pathObj, parseAppConfigs) => {\n    let result = false;\n    let extendAppId;\n    if (loadFile(fileObj, pathObj, 'config', true)) {\n        extendAppId = fileObj.config.extend || extendAppId;\n        result = true;\n    }\n\n    if (loadFile(fileObj, pathObj, 'configLocal')) {\n        extendAppId = fileObj.configLocal.extend || extendAppId;\n        result = true;\n    }\n\n    if (loadFile(fileObj, pathObj, 'configPrivate')) {\n        extendAppId = fileObj.configPrivate.extend || extendAppId;\n        result = true;\n    }\n\n\n    if (parseAppConfigs) {\n        pathObj.dirs = [];\n        pathObj.fontsDirs = [];\n        pathObj.pluginDirs = [];\n        pathObj.configs = [];\n        pathObj.configsLocal = [];\n        pathObj.configsPrivate = [];\n\n        fileObj.configs = [];\n        fileObj.configsLocal = [];\n        fileObj.configsPrivate = [];\n        const fileObj1 = {};\n        // PATH1: appConfigs/base\n        const path1 = path.join(pathObj.appConfigsDir, 'base');\n        const pathObj1 = {\n            config: path.join(path1, RENATIVE_CONFIG_NAME),\n            configLocal: path.join(path1, RENATIVE_CONFIG_LOCAL_NAME),\n            configPrivate: path.join(path1, RENATIVE_CONFIG_PRIVATE_NAME),\n        };\n        pathObj.dirs.push(path1);\n        pathObj.fontsDirs.push(path.join(path1, 'fonts'));\n        pathObj.pluginDirs.push(path.join(path1, 'plugins'));\n        pathObj.configs.push(pathObj1.config);\n        pathObj.configsPrivate.push(pathObj1.configPrivate);\n        pathObj.configsLocal.push(pathObj1.configLocal);\n        // FILE1: appConfigs/<extendConfig>\n        loadFile(fileObj1, pathObj1, 'config');\n        loadFile(fileObj1, pathObj1, 'configPrivate');\n        loadFile(fileObj1, pathObj1, 'configLocal');\n        if (fileObj1.config) fileObj.configs.push(fileObj1.config);\n        if (fileObj1.configPrivate) fileObj.configsPrivate.push(fileObj1.configPrivate);\n        if (fileObj1.configLocal) fileObj.configsLocal.push(fileObj1.configLocal);\n\n        // Check if appConfigs folder exists ie in workspace mirror\n        if (fsExistsSync(pathObj.appConfigsDir)) {\n            const appConfigsDirNames = fsReaddirSync(pathObj.appConfigsDir);\n            if (parseAppConfigs && extendAppId && appConfigsDirNames.includes(extendAppId)) {\n                const path2 = path.join(pathObj.appConfigsDir, extendAppId);\n                const pathObj2 = {\n                    config: path.join(path2, RENATIVE_CONFIG_NAME),\n                    configLocal: path.join(path2, RENATIVE_CONFIG_LOCAL_NAME),\n                    configPrivate: path.join(path2, RENATIVE_CONFIG_PRIVATE_NAME),\n                };\n                const fileObj2 = {};\n                // PATH2: appConfigs/<extendConfig>\n                pathObj.dirs.push(path2);\n                pathObj.fontsDirs.push(path.join(path2, 'fonts'));\n                pathObj.pluginDirs.push(path.join(path2, 'plugins'));\n                pathObj.configs.push(pathObj2.config);\n                pathObj.configsLocal.push(pathObj2.configLocal);\n                pathObj.configsPrivate.push(pathObj2.configPrivate);\n                // FILE2: appConfigs/<extendConfig>\n                loadFile(fileObj2, pathObj2, 'config');\n                loadFile(fileObj2, pathObj2, 'configPrivate');\n                loadFile(fileObj2, pathObj2, 'configLocal');\n\n                if (fileObj2.config) fileObj.configs.push(fileObj2.config);\n                if (fileObj2.configLocal) fileObj.configsLocal.push(fileObj2.configLocal);\n                if (fileObj2.configPrivate) fileObj.configsPrivate.push(fileObj2.configPrivate);\n            }\n        }\n\n\n        // PATH2: appConfigs/<appId>\n        const path3 = pathObj.dir;\n        pathObj.dirs.push(path3);\n        pathObj.fontsDirs.push(path.join(path3, 'fonts'));\n        pathObj.pluginDirs.push(path.join(path3, 'plugins'));\n        pathObj.configs.push(path.join(path3, RENATIVE_CONFIG_NAME));\n        pathObj.configsLocal.push(path.join(path3, RENATIVE_CONFIG_LOCAL_NAME));\n        pathObj.configsPrivate.push(path.join(path3, RENATIVE_CONFIG_PRIVATE_NAME));\n        // FILE3: appConfigs/<appId>\n        if (fileObj.config) fileObj.configs.push(fileObj.config);\n        if (fileObj.configPrivate) fileObj.configsPrivate.push(fileObj.configPrivate);\n        if (fileObj.configLocal) fileObj.configsLocal.push(fileObj.configLocal);\n    }\n\n\n    generateBuildConfig(c);\n    return result;\n};\n\nexport const generateRuntimeConfig = async (c) => {\n    logTask('generateRuntimeConfig');\n    // c.assetConfig = {\n    //     common: c.buildConfig.common,\n    //     runtime: c.buildConfig.runtime\n    // };\n    c.assetConfig = mergeObjects(c, c.assetConfig, c.buildConfig.runtime || {});\n    c.assetConfig = mergeObjects(\n        c,\n        c.assetConfig,\n        c.buildConfig.common?.runtime || {}\n    );\n    c.assetConfig = mergeObjects(\n        c,\n        c.assetConfig,\n        c.buildConfig.platforms?.[c.platform]?.runtime || {}\n    );\n    c.assetConfig = mergeObjects(\n        c,\n        c.assetConfig,\n        getConfigProp(c, c.platform, 'runtime') || {}\n    );\n\n    if (fsExistsSync(c.paths.project.assets.dir)) {\n        writeFileSync(c.paths.project.assets.config, c.assetConfig);\n    }\n    return true;\n};\n\nexport const generateLocalConfig = (c, resetAppId) => {\n    logTask('generateLocalConfig', `resetAppId:${!!resetAppId}`);\n    const configLocal = c.files.project.configLocal || {};\n    // configLocal.kokot = 'fooo';\n    configLocal._meta = configLocal._meta || {};\n    if (resetAppId) {\n        delete configLocal._meta.currentAppConfigId;\n    } else {\n        configLocal._meta.currentAppConfigId = c.runtime.appId;\n    }\n    c.files.project.configLocal = configLocal;\n    writeFileSync(c.paths.project.configLocal, configLocal);\n};\n\nconst _generatePlatformTemplatePaths = (c) => {\n    logTask('_generatePlatformTemplatePaths');\n    if (!c.buildConfig.paths) {\n        logWarning(`You're missing paths object in your ${chalk().white(c.paths.project.config)}`);\n        c.buildConfig.paths = {};\n    }\n    if (c.files.config?.platformTemplatesDirs) {\n        logWarning(`DEPRECATED: platformTemplatesDirs in ${\n            chalk().white(c.paths.project.config)} has been moved to engine config`);\n    }\n    if (c.files.config?.paths?.platformTemplatesDir) {\n        logWarning(`DEPRECATED: paths.platformTemplatesDir in ${\n            chalk().white(c.paths.project.config)} has been moved to engine config`);\n    }\n    if (c.files.config?.platformTemplatesDir) {\n        logWarning(`DEPRECATED: platformTemplatesDir in ${\n            chalk().white(c.paths.project.config)} has been moved to engine config`);\n    }\n    const pt = c.buildConfig.paths.platformTemplatesDirs || c.buildConfig.platformTemplatesDirs || {};\n    const result = {};\n\n    c.buildConfig.defaults.supportedPlatforms.forEach((platform) => {\n        const engine = getEngineByPlatform(c, platform);\n        const originalPath = engine?.paths?.platformTemplatesDir;\n        if (originalPath) {\n            if (!pt[platform]) {\n                result[platform] = getRealPath(\n                    c,\n                    originalPath,\n                    'platformTemplatesDir',\n                    originalPath\n                );\n            } else {\n                result[platform] = getRealPath(\n                    c,\n                    pt[platform],\n                    'platformTemplatesDir',\n                    originalPath\n                );\n            }\n        } else {\n            logWarning(`Platform ${chalk().red(platform)} not supported by any registered engine. SKIPPING...`);\n        }\n    });\n\n    return result;\n};\n\n\nexport const listAppConfigsFoldersSync = (c, ignoreHiddenConfigs) => {\n    logTask('listAppConfigsFoldersSync', `ignoreHiddenConfigs:${!!ignoreHiddenConfigs}`);\n\n    if (!c.paths?.project) return [];\n\n    const dirPath = c.paths.project.appConfigsDir;\n\n    if (!fsExistsSync(dirPath)) return [];\n    const appConfigsDirs = [];\n    fsReaddirSync(dirPath).forEach((dir) => {\n        const appConfigDir = path.join(dirPath, dir);\n        if (\n            !IGNORE_FOLDERS.includes(dir)\n            && fsLstatSync(appConfigDir).isDirectory()\n        ) {\n            if (ignoreHiddenConfigs) {\n                const appConfig = path.join(appConfigDir, RENATIVE_CONFIG_NAME);\n                if (fsExistsSync(appConfig)) {\n                    try {\n                        const config = readObjectSync(appConfig);\n                        if (config?.hidden !== true) {\n                            appConfigsDirs.push(dir);\n                        }\n                    } catch (e) {\n                        logWarning(`_listAppConfigsFoldersSync: ${e}`);\n                    }\n                }\n            } else {\n                appConfigsDirs.push(dir);\n            }\n        }\n    });\n    return appConfigsDirs;\n};\n\nexport const loadProjectTemplates = (c) => {\n    c.files.rnv.projectTemplates.config = readObjectSync(\n        c.paths.rnv.projectTemplates.config\n    );\n};\n\n// export const loadPlatformTemplates = (c) => {\n//     c.files.rnv.platformTemplates.config = readObjectSync(\n//         c.paths.rnv.platformTemplates.config\n//     );\n// };\n\nexport const loadEngines = (c) => {\n    logTask('loadEngines');\n    c.files.rnv.engines.config = readObjectSync(\n        c.paths.rnv.engines.config\n    );\n};\n\nconst _loadWorkspacesSync = (c) => {\n    // CHECK WORKSPACES\n    if (fsExistsSync(c.paths.rnv.configWorkspaces)) {\n        logDebug(`${c.paths.rnv.configWorkspaces} file exists!`);\n        c.files.rnv.configWorkspaces = readObjectSync(\n            c.paths.rnv.configWorkspaces\n        );\n\n        if (!c.files.rnv.configWorkspaces) c.files.rnv.configWorkspaces = {};\n\n        if (!c.files.rnv.configWorkspaces?.workspaces) {\n            c.files.rnv.configWorkspaces.workspaces = {};\n        }\n        if (Object.keys(c.files.rnv.configWorkspaces.workspaces).length === 0) {\n            logWarning(\n                `No workspace found in ${\n                    c.paths.rnv.configWorkspaces\n                }. Creating default rnv one for you`\n            );\n            c.files.rnv.configWorkspaces.workspaces = {\n                rnv: {\n                    path: c.paths.workspace.dir\n                }\n            };\n            writeFileSync(\n                c.paths.rnv.configWorkspaces,\n                c.files.rnv.configWorkspaces\n            );\n        }\n    } else {\n        logWarning(\n            `Cannot find ${c.paths.rnv.configWorkspaces}. creating one..`\n        );\n        c.files.rnv.configWorkspaces = {\n            workspaces: {\n                rnv: {\n                    path: c.paths.workspace.dir\n                }\n            }\n        };\n        writeFileSync(\n            c.paths.rnv.configWorkspaces,\n            c.files.rnv.configWorkspaces\n        );\n    }\n};\n\n\nexport const parseRenativeConfigs = async (c) => {\n    logTask('parseRenativeConfigs');\n    // LOAD ./package.json\n    loadFile(c.files.project, c.paths.project, 'package');\n\n    // LOAD ./RENATIVE.*.JSON\n    _loadConfigFiles(c, c.files.project, c.paths.project);\n\n    if (c.runtime.appId) {\n        c.paths.project.builds.config = path.join(\n            c.paths.project.builds.dir,\n            `${c.runtime.appId}_${c.platform}.json`\n        );\n    } else {\n        c.paths.project.builds.config = path.join(\n            c.paths.project.builds.dir,\n            `<TBC>_${c.platform}.json`\n        );\n    }\n\n\n    // LOAD ./platformBuilds/RENATIVE.BUILLD.JSON\n    loadFile(c.files.project.builds, c.paths.project.builds, 'config');\n\n    // LOAD WORKSPACE /RENATIVE.*.JSON\n    _generateConfigPaths(\n        c.paths.workspace,\n        getRealPath(c, await getWorkspaceDirPath(c))\n    );\n    _loadConfigFiles(c, c.files.workspace, c.paths.workspace);\n\n    // LOAD DEFAULT WORKSPACE\n    _generateConfigPaths(c.paths.defaultWorkspace, c.paths.GLOBAL_RNV_DIR);\n    _loadConfigFiles(c, c.files.defaultWorkspace, c.paths.defaultWorkspace);\n\n    // LOAD PROJECT TEMPLATES\n    loadProjectTemplates(c);\n\n    // LOAD PLUGIN TEMPLATES\n    await loadPluginTemplates(c);\n\n    // LOAD PLATFORM TEMPLATES\n    // loadPlatformTemplates(c);\n\n    // LOAD ENGINES\n    loadEngines(c);\n\n    if (!c.files.project.config) {\n        logDebug(`BUILD_CONFIG: c.files.project.config does not exists. path: ${c.paths.project.config}`);\n        return;\n    }\n\n    // LOAD WORKSPACE /[PROJECT_NAME]/RENATIVE.*.JSON\n    _generateConfigPaths(\n        c.paths.workspace.project,\n        path.join(c.paths.workspace.dir, c.files.project.config.projectName)\n    );\n    _loadConfigFiles(c, c.files.workspace.project, c.paths.workspace.project);\n\n    c.paths.workspace.project.appConfigBase.dir = path.join(\n        c.paths.workspace.project.dir,\n        'appConfigs',\n        'base'\n    );\n\n    c.paths.workspace.project.appConfigBase.dir_LEGACY = path.join(\n        c.paths.workspace.project.dir,\n        'projectConfig'\n    );\n\n    c.runtime.isWrapper = c.buildConfig.isWrapper;\n    c.paths.project.platformTemplatesDirs = _generatePlatformTemplatePaths(c);\n\n\n    if (c.runtime.appId) {\n        if (!c.files.appConfig.config) {\n            _generateConfigPaths(\n                c.paths.appConfig,\n                path.join(c.paths.project.appConfigsDir, c.runtime.appId)\n            );\n            _loadConfigFiles(\n                c,\n                c.files.appConfig,\n                c.paths.appConfig,\n                true\n            );\n        }\n\n        const workspaceAppConfigsDir = getRealPath(\n            c,\n            c.buildConfig.workspaceAppConfigsDir\n        );\n        c.paths.workspace.project.appConfigsDir = workspaceAppConfigsDir\n          || path.join(c.paths.workspace.project.dir, 'appConfigs');\n\n        _generateConfigPaths(\n            c.paths.workspace.appConfig,\n            path.join(c.paths.workspace.project.appConfigsDir, c.runtime.appId)\n        );\n\n        _loadConfigFiles(\n            c,\n            c.files.workspace.appConfig,\n            c.paths.workspace.appConfig,\n            true\n        );\n\n        // LOAD WORKSPACE /RENATIVE.*.JSON\n        _generateConfigPaths(\n            c.paths.workspace,\n            getRealPath(c, await getWorkspaceDirPath(c))\n        );\n        _loadConfigFiles(c, c.files.workspace, c.paths.workspace);\n\n        generateLocalConfig(c);\n        generateBuildConfig(c);\n    }\n};\n\nexport const createRnvConfig = (program, process, cmd, subCmd, { projectRoot } = {}) => {\n    const c = {\n        cli: {},\n        runtime: {},\n        paths: {\n            rnv: {\n                pluginTemplates: {\n                    configs: {}\n                },\n                platformTemplates: {},\n                projectTemplates: {},\n                platformTemplate: {},\n                plugins: {},\n                engines: {},\n                projectTemplate: {}\n            },\n            workspace: {\n                project: {\n                    appConfigBase: {},\n                    builds: {},\n                    assets: {},\n                    platformTemplates: {},\n                    appConfigsDirs: [],\n                    appConfigsDirNames: []\n                },\n                appConfig: {\n                    configs: [],\n                    configsPrivate: [],\n                    configsLocal: []\n                }\n            },\n            defaultWorkspace: {\n                project: {\n                    appConfigBase: {},\n                    builds: {},\n                    assets: {},\n                    platformTemplates: {},\n                    appConfigsDirs: [],\n                    appConfigsDirNames: []\n                },\n                appConfig: {\n                    configs: [],\n                    configsPrivate: [],\n                    configsLocal: []\n                }\n            },\n            project: {\n                appConfigBase: {},\n                builds: {},\n                assets: {},\n                platformTemplates: {},\n                appConfigsDirs: [],\n                appConfigsDirNames: []\n            },\n            appConfig: {\n                configs: [],\n                configsPrivate: [],\n                configsLocal: []\n            },\n            // EXTRA\n            GLOBAL_RNV_DIR: '',\n            buildHooks: {\n                dist: {}\n            },\n            home: {},\n            template: {\n                appConfigBase: {},\n                builds: {},\n                assets: {},\n                platformTemplates: {}\n            },\n        },\n        files: {\n            rnv: {\n                pluginTemplates: {},\n                platformTemplates: {},\n                projectTemplates: {},\n                platformTemplate: {},\n                plugins: {},\n                engines: {},\n                projectTemplate: {}\n            },\n            workspace: {\n                project: {\n                    appConfigBase: {},\n                    builds: {},\n                    assets: {},\n                    platformTemplates: {}\n                },\n                appConfig: {\n                    configs: [],\n                    configsPrivate: [],\n                    configsLocal: []\n                }\n            },\n            defaultWorkspace: {\n                project: {\n                    appConfigBase: {},\n                    builds: {},\n                    assets: {},\n                    platformTemplates: {}\n                },\n                appConfig: {\n                    configs: [],\n                    configsPrivate: [],\n                    configsLocal: []\n                }\n            },\n            project: {\n                appConfigBase: {},\n                builds: {},\n                assets: {},\n                platformTemplates: {}\n            },\n            appConfig: {\n                configs: [],\n                configsPrivate: [],\n                configsLocal: []\n            }\n        }\n    };\n\n    c.program = program;\n    c.process = process;\n    c.command = cmd;\n    c.subCommand = subCmd;\n    c.platformDefaults = PLATFORMS;\n\n    c.paths.rnv.dir = RNV_HOME_DIR;\n\n    c.paths.rnv.engines.dir = path.join(\n        c.paths.rnv.dir,\n        'engineTemplates'\n    );\n    c.paths.rnv.pluginTemplates.dir = path.join(\n        c.paths.rnv.dir,\n        'pluginTemplates'\n    );\n\n    c.paths.rnv.engines.config = path.join(\n        c.paths.rnv.engines.dir,\n        RENATIVE_CONFIG_ENGINES_NAME\n    );\n    c.paths.rnv.pluginTemplates.config = path.join(\n        c.paths.rnv.pluginTemplates.dir,\n        RENATIVE_CONFIG_PLUGINS_NAME\n    );\n    c.paths.rnv.projectTemplates.dir = path.join(\n        c.paths.rnv.dir,\n        'projectTemplates'\n    );\n    c.paths.rnv.projectTemplates.config = path.join(\n        c.paths.rnv.projectTemplates.dir,\n        RENATIVE_CONFIG_TEMPLATES_NAME\n    );\n    c.paths.rnv.package = path.join(c.paths.rnv.dir, 'package.json');\n\n    c.paths.rnv.projectTemplate.dir = path.join(\n        c.paths.rnv.dir,\n        'projectTemplate'\n    );\n    c.files.rnv.package = JSON.parse(\n        fsReadFileSync(c.paths.rnv.package).toString()\n    );\n\n    c.platform = c.program.platform;\n    c.paths.home.dir = USER_HOME_DIR;\n    c.paths.GLOBAL_RNV_DIR = path.join(c.paths.home.dir, '.rnv');\n    c.paths.GLOBAL_RNV_CONFIG = path.join(\n        c.paths.GLOBAL_RNV_DIR,\n        RENATIVE_CONFIG_NAME\n    );\n    c.paths.rnv.configWorkspaces = path.join(\n        c.paths.GLOBAL_RNV_DIR,\n        RENATIVE_CONFIG_WORKSPACES_NAME\n    );\n\n    if (!fsExistsSync(c.paths.GLOBAL_RNV_DIR)) {\n        mkdirSync(c.paths.GLOBAL_RNV_DIR);\n    }\n\n    _generateConfigPaths(c.paths.project, projectRoot || CURRENT_DIR);\n\n    c.paths.buildHooks.dir = path.join(c.paths.project.dir, 'buildHooks/src');\n    c.paths.buildHooks.dist.dir = path.join(\n        c.paths.project.dir,\n        'buildHooks/dist'\n    );\n    c.paths.buildHooks.index = path.join(c.paths.buildHooks.dir, 'index.js');\n    c.paths.buildHooks.dist.index = path.join(\n        c.paths.buildHooks.dist.dir,\n        'index.js'\n    );\n    c.paths.project.nodeModulesDir = path.join(\n        c.paths.project.dir,\n        'node_modules'\n    );\n    c.paths.project.srcDir = path.join(c.paths.project.dir, 'src');\n    c.paths.project.appConfigsDir = path.join(\n        c.paths.project.dir,\n        'appConfigs'\n    );\n    c.paths.project.package = path.join(c.paths.project.dir, 'package.json');\n    c.paths.project.rnCliConfig = path.join(\n        c.paths.project.dir,\n        RN_CLI_CONFIG_NAME\n    );\n    c.paths.project.babelConfig = path.join(\n        c.paths.project.dir,\n        RN_BABEL_CONFIG_NAME\n    );\n    c.paths.project.npmLinkPolyfill = path.join(\n        c.paths.project.dir,\n        'npm_link_polyfill.json'\n    );\n    c.paths.project.appConfigBase.dir = path.join(\n        c.paths.project.dir,\n        'appConfigs',\n        'base'\n    );\n    c.paths.project.appConfigBase.pluginsDir = path.join(\n        c.paths.project.appConfigBase.dir,\n        'plugins'\n    );\n    c.paths.project.appConfigBase.fontsDir = path.join(\n        c.paths.project.appConfigBase.dir,\n        'fonts'\n    );\n    c.paths.project.appConfigBase.fontsDirs = [\n        c.paths.project.appConfigBase.fontsDir\n    ];\n    c.paths.project.assets.dir = path.join(\n        c.paths.project.dir,\n        'platformAssets'\n    );\n    c.paths.project.assets.runtimeDir = path.join(\n        c.paths.project.assets.dir,\n        'runtime'\n    );\n    c.paths.project.assets.config = path.join(\n        c.paths.project.assets.dir,\n        RENATIVE_CONFIG_RUNTIME_NAME\n    );\n    c.paths.project.builds.dir = path.join(\n        c.paths.project.dir,\n        'platformBuilds'\n    );\n\n    _generateConfigPaths(c.paths.workspace, c.paths.GLOBAL_RNV_DIR);\n\n    // LOAD WORKSPACES\n    try {\n        _loadWorkspacesSync(c);\n    } catch (e) {\n        logError(e);\n    }\n\n    return c;\n};\n"],"file":"configParser.js"}