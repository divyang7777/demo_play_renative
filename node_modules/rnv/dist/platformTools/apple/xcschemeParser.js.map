{"version":3,"sources":["../../../src/platformTools/apple/xcschemeParser.js"],"names":["parseXcscheme","c","platform","poisxSpawn","appFolder","appFolderName","appTemplateFolder","debuggerId","launcherId","schemePath","path","join","pattern","override"],"mappings":";AACA;AACA;;;;AAIA;AACA;AACA;;AAEO,GAAMA,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAOC,CAAP,CAAUC,QAAV;AACzB,qCAAyBA,QAAzB;;;;;;;;;;;;;;;;AAgBMC,UAjBmB,CAiBN,IAjBM;AAkBnBC,SAlBmB,CAkBP,yBAAaH,CAAb,CAAgBC,QAAhB,CAlBO;AAmBnBG,aAnBmB,CAmBH,4BAAiBJ,CAAjB,CAAoBC,QAApB,CAnBG;AAoBnBI,iBApBmB,CAoBC,iCAAqBL,CAArB,CAAwBC,QAAxB,CApBD;;AAsBnBK,UAtBmB,CAsBNJ,UAAU;AACvB,EADuB;AAEvB,wCAxBmB;AAyBnBK,UAzBmB,CAyBNL,UAAU;AACvB,yCADuB;AAEvB,wCA3BmB;AA4BnBM,UA5BmB,CA4BHJ,aA5BG,sCA4B+CA,aA5B/C;AA6BzB;AACIK,cAAKC,IAAL,CAAUL,iBAAV,CAA6BG,UAA7B,CADJ;AAEIC,cAAKC,IAAL,CAAUP,SAAV,CAAqBK,UAArB,CAFJ;AAGI;AACI,CAAEG,OAAO,CAAE,wBAAX,CAAqCC,QAAQ,CAAEN,UAA/C,CADJ;AAEI,CAAEK,OAAO,CAAE,wBAAX,CAAqCC,QAAQ,CAAEL,UAA/C,CAFJ,CAHJ;AAMO,IANP,CAMaP,CANb,EA7ByB,qEAAtB,C","sourcesContent":["/* eslint-disable import/no-cycle */\nimport path from 'path';\nimport {\n    getAppFolder,\n    getAppTemplateFolder,\n} from '../../common';\nimport { logTask } from '../../systemTools/logger';\nimport { getAppFolderName } from './index';\nimport { writeCleanFile } from '../../systemTools/fileutils';\n\nexport const parseXcscheme = async (c, platform) => {\n    logTask(`parseXcscheme:${platform}`);\n    // XCSCHEME\n    // const allowProvisioningUpdates = getConfigProp(\n    //     c,\n    //     platform,\n    //     'allowProvisioningUpdates',\n    //     true\n    // );\n    // const provisioningStyle = getConfigProp(\n    //     c,\n    //     platform,\n    //     'provisioningStyle',\n    //     'Automatic'\n    // );\n    // const poisxSpawn = runScheme === 'Release' && !allowProvisioningUpdates && provisioningStyle === 'Manual';\n    // Since RN 61+ this must be set to true otherwise debug apps install but not launch\n    const poisxSpawn = true;\n    const appFolder = getAppFolder(c, platform);\n    const appFolderName = getAppFolderName(c, platform);\n    const appTemplateFolder = getAppTemplateFolder(c, platform);\n\n    const debuggerId = poisxSpawn\n        ? ''\n        : 'Xcode.DebuggerFoundation.Debugger.LLDB';\n    const launcherId = poisxSpawn\n        ? 'Xcode.IDEFoundation.Launcher.PosixSpawn'\n        : 'Xcode.DebuggerFoundation.Launcher.LLDB';\n    const schemePath = `${appFolderName}.xcodeproj/xcshareddata/xcschemes/${appFolderName}.xcscheme`;\n    writeCleanFile(\n        path.join(appTemplateFolder, schemePath),\n        path.join(appFolder, schemePath),\n        [\n            { pattern: '{{PLUGIN_DEBUGGER_ID}}', override: debuggerId },\n            { pattern: '{{PLUGIN_LAUNCHER_ID}}', override: launcherId }\n        ], null, c\n    );\n};\n"],"file":"xcschemeParser.js"}