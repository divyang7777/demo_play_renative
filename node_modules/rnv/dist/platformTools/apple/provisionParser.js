var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.parseProvisioningProfiles=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));
var _iosMobileprovisionFinder=require("ios-mobileprovision-finder");
var _chalk=_interopRequireDefault(require("chalk"));
var _path=_interopRequireDefault(require("path"));
var _common=require("../../common");
var _logger=require("../../systemTools/logger");


var parseProvisioningProfiles=function parseProvisioningProfiles(c){var teamID,id,certificates,provisionProfiles,result;return _regenerator.default.async(function parseProvisioningProfiles$(_context){while(1){switch(_context.prev=_context.next){case 0:

teamID=(0,_common.getConfigProp)(c,c.platform,'teamID');
id=(0,_common.getConfigProp)(c,c.platform,'id');
certificates=_iosMobileprovisionFinder.cert.read();_context.prev=3;

provisionProfiles=_iosMobileprovisionFinder.provision.read();
result=_iosMobileprovisionFinder.provision.select(provisionProfiles,{
AppId:id,
TeamIdentifier:teamID,
Certificates:certificates.valid});return _context.abrupt("return",

result);case 9:_context.prev=9;_context.t0=_context["catch"](3);

(0,_logger.logWarning)("You have no provisioning files available. Check your "+_chalk.default.white(_path.default.join(c.paths.home.dir,'Library/MobileDevice/Provisioning Profiles'))+" folder");case 12:return _context.abrupt("return",


null);case 13:case"end":return _context.stop();}}},null,null,[[3,9]],Promise);};exports.parseProvisioningProfiles=parseProvisioningProfiles;
//# sourceMappingURL=provisionParser.js.map