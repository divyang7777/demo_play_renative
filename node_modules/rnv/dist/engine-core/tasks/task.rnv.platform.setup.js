var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.taskRnvPlatformSetup=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _inquirer=_interopRequireDefault(require("inquirer"));
var _constants=require("../../core/constants");
var _platformManager=require("../../core/platformManager");
var _logger=require("../../core/systemManager/logger");
var _engineManager=require("../../core/engineManager");


var taskRnvPlatformSetup=function taskRnvPlatformSetup(c,parentTask,originTask){var _c$files$project$conf;var currentPlatforms,_await$inquirer$promp,inputSupportedPlatforms;return _regenerator.default.async(function taskRnvPlatformSetup$(_context){while(1){switch(_context.prev=_context.next){case 0:
(0,_logger.logTask)('taskRnvPlatformSetup');_context.next=3;return _regenerator.default.awrap(

(0,_engineManager.executeTask)(c,_constants.TASK_PROJECT_CONFIGURE,_constants.TASK_PLATFORM_SETUP,originTask));case 3:

currentPlatforms=((_c$files$project$conf=c.files.project.config.defaults)==null?void 0:_c$files$project$conf.supportedPlatforms)||[];_context.next=6;return _regenerator.default.awrap(

_inquirer.default.prompt({
name:'inputSupportedPlatforms',
type:'checkbox',
pageSize:20,
message:'What platforms would you like to use?',
validate:function validate(val){return!!val.length||'Please select at least a platform';},
default:currentPlatforms,
choices:_constants.SUPPORTED_PLATFORMS}));case 6:_await$inquirer$promp=_context.sent;inputSupportedPlatforms=_await$inquirer$promp.inputSupportedPlatforms;


(0,_platformManager.updateProjectPlatforms)(c,inputSupportedPlatforms);case 9:case"end":return _context.stop();}}},null,null,null,Promise);};exports.taskRnvPlatformSetup=taskRnvPlatformSetup;var _default=


{
description:'',
fn:taskRnvPlatformSetup,
task:_constants.TASK_PLATFORM_SETUP,
params:_constants.PARAMS.withBase(),
platforms:[],
skipPlatforms:true};exports.default=_default;
//# sourceMappingURL=task.rnv.platform.setup.js.map