var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.taskRnvTemplateAdd=exports._addTemplate=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _inquirer=_interopRequireDefault(require("inquirer"));
var _fileutils=require("../../core/systemManager/fileutils");
var _logger=require("../../core/systemManager/logger");
var _configParser=require("../../core/configManager/configParser");
var _engineManager=require("../../core/engineManager");
var _constants=require("../../core/constants");

var _templateManager=require("../../core/templateManager");

var _writeObjectSync=function _writeObjectSync(c,p,s){
(0,_fileutils.writeFileSync)(p,s);
(0,_configParser.generateBuildConfig)(c);
};

var _addTemplate=function _addTemplate(c,template){
(0,_logger.logTask)('addTemplate');

c.files.project.config.templates=c.files.project.config.templates||{};

if(!c.files.project.config.templates[template]){
c.files.project.config.templates[template]={
version:'latest'};

}

_writeObjectSync(c,c.paths.project.config,c.files.project.config);
};exports._addTemplate=_addTemplate;

var taskRnvTemplateAdd=function taskRnvTemplateAdd(c,parentTask,originTask){var opts,_await$inquirer$promp,template;return _regenerator.default.async(function taskRnvTemplateAdd$(_context){while(1){switch(_context.prev=_context.next){case 0:
(0,_logger.logTask)('taskRnvTemplateAdd');_context.next=3;return _regenerator.default.awrap(

(0,_engineManager.executeTask)(c,_constants.TASK_PROJECT_CONFIGURE,_constants.TASK_TEMPLATE_ADD,originTask));case 3:

opts=(0,_templateManager.getTemplateOptions)(c);_context.next=6;return _regenerator.default.awrap(

_inquirer.default.prompt({
type:'list',
message:'Pick which template to install',
name:'template',
choices:opts.keysAsArray}));case 6:_await$inquirer$promp=_context.sent;template=_await$inquirer$promp.template;


_addTemplate(c,template);case 9:case"end":return _context.stop();}}},null,null,null,Promise);};exports.taskRnvTemplateAdd=taskRnvTemplateAdd;var _default=


{
description:'Install additional template to the project',
fn:taskRnvTemplateAdd,
task:'template add',
params:_constants.PARAMS.withBase(),
platforms:[]};exports.default=_default;
//# sourceMappingURL=task.rnv.template.add.js.map