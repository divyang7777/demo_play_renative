{"version":3,"sources":["../../src/deployTools/configure.js"],"names":["configureDeploymentIfRequired","deploymentTarget","Config","checkRequiredPackage","setupInstance","askToInstallSDK","configureExportIfRequired","exportTarget"],"mappings":";AACA;AACA;AACA;;AAEA,GAAMA,CAAAA,6BAA6B,CAAG,QAAhCA,CAAAA,6BAAgC,CAAOC,gBAAP;AAC9BA,gBAAgB,GAAK,QADS;AAExBC,gBAAOC,oBAAP;AACF,oBADE;AAEF,KAFE;AAGF,iBAHE,CAFwB;;AAOzB,4BAAkB,QAAlB,CAPyB;AAQpBC,aARoB,CAQJ,yBARI;AASpBA,aAAa,CAACC,eAAd,CAA8B,QAA9B,CAToB;;;AAY9BJ,gBAAgB,GAAK,KAZS;AAaxBC,gBAAOC,oBAAP,CAA4B,iBAA5B,CAA+C,KAA/C,CAAsD,iBAAtD,CAbwB;AAczB,4BAAkB,KAAlB,CAdyB;AAepBC,cAfoB,CAeJ,yBAfI;AAgBpBA,cAAa,CAACC,eAAd,CAA8B,KAA9B,CAhBoB,wEAAtC,C;;;;;AAqBA,GAAMC,CAAAA,yBAAyB,CAAG,QAA5BA,CAAAA,yBAA4B,CAAOC,YAAP;AAC1BA,YAAY,GAAK,QADS;AAEpBL,gBAAOC,oBAAP;AACF,oBADE;AAEF,KAFE;AAGF,iBAHE,CAFoB,wEAAlC,C","sourcesContent":["/* eslint-disable import/no-cycle */\nimport Config from '../config';\nimport PlatformSetup from '../setupTools';\nimport { commandExistsSync } from '../systemTools/exec';\n\nconst configureDeploymentIfRequired = async (deploymentTarget) => {\n    if (deploymentTarget === 'docker') {\n        await Config.checkRequiredPackage(\n            '@rnv/deploy-docker',\n            false,\n            'devDependencies'\n        );\n        if (!commandExistsSync('docker')) {\n            const setupInstance = PlatformSetup();\n            await setupInstance.askToInstallSDK('docker');\n        }\n    }\n    if (deploymentTarget === 'aws') {\n        await Config.checkRequiredPackage('@rnv/deploy-aws', false, 'devDependencies');\n        if (!commandExistsSync('aws')) {\n            const setupInstance = PlatformSetup();\n            await setupInstance.askToInstallSDK('aws');\n        }\n    }\n};\n\nconst configureExportIfRequired = async (exportTarget) => {\n    if (exportTarget === 'docker') {\n        await Config.checkRequiredPackage(\n            '@rnv/deploy-docker',\n            false,\n            'devDependencies'\n        );\n    }\n};\n\nexport { configureDeploymentIfRequired, configureExportIfRequired };\n"],"file":"configure.js"}