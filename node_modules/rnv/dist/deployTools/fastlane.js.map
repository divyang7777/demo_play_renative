{"version":3,"sources":["../../src/deployTools/fastlane.js"],"names":["rnvFastlane","args","Config","rnvArguments","shift","setupInstance","askToInstallSDK","c","getConfig","appFolder","platform","fastlaneArgs","program","rawArgs","slice","join","interactive","env","process","cwd"],"mappings":";AACA;AACA;AACA;AACA;;AAEA,GAAMA,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc;AACVC,IADU,CACHC,gBAAOC,YADJ;AAEhBF,IAAI,CAACG,KAAL,GAFgB;;AAIX,4BAAkB,UAAlB,CAJW;AAKNC,aALM,CAKU,yBALV;AAMNA,aAAa,CAACC,eAAd,CAA8B,UAA9B,CANM;;;AASVC,CATU,CASNL,gBAAOM,SAAP,EATM;AAUVC,SAVU,CAUE,yBAAaF,CAAb,CAAgBA,CAAC,CAACG,QAAlB,CAVF;;AAYZC,YAZY,iCAYOJ,CAAC,CAACK,OAAF,CAAUC,OAZjB;AAahBF,YAAY,CAAGA,YAAY,CAACG,KAAb,CAAmB,CAAnB,CAAf,CAbgB;;AAeT,uBAAaP,CAAb,aAA4BI,YAAY,CAACI,IAAb,CAAkB,GAAlB,CAA5B,CAAsD;AACzDC,WAAW,CAAE,IAD4C;AAEzDC,GAAG,CAAEC,OAAO,CAACD,GAF4C;AAGzDE,GAAG,CAAEV,SAHoD,CAAtD,CAfS,wEAApB,C","sourcesContent":["/* eslint-disable import/no-cycle */\nimport { executeAsync, commandExistsSync } from '../systemTools/exec';\nimport { getAppFolder } from '../common';\nimport Config from '../config';\nimport PlatformSetup from '../setupTools';\n\nconst rnvFastlane = async () => {\n    const args = Config.rnvArguments;\n    args.shift(); // we know the first one is fastlane, trash it\n\n    if (!commandExistsSync('fastlane')) {\n        const setupInstance = PlatformSetup();\n        await setupInstance.askToInstallSDK('fastlane');\n    }\n\n    const c = Config.getConfig();\n    const appFolder = getAppFolder(c, c.platform);\n\n    let fastlaneArgs = [...c.program.rawArgs];\n    fastlaneArgs = fastlaneArgs.slice(3);\n\n    return executeAsync(c, `fastlane ${fastlaneArgs.join(' ')}`, {\n        interactive: true,\n        env: process.env,\n        cwd: appFolder\n    });\n};\n\nexport { rnvFastlane };\n"],"file":"fastlane.js"}