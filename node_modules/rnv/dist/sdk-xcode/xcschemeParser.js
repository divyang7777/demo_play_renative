var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.parseXcscheme=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));
var _path=_interopRequireDefault(require("path"));
var _common=require("../core/common");




var _logger=require("../core/systemManager/logger");
var _index=require("./index");
var _fileutils=require("../core/systemManager/fileutils");

var parseXcscheme=function parseXcscheme(c,platform){var poisxSpawn,appFolder,appFolderName,appTemplateFolder,debuggerId,launcherId,schemePath,injects;return _regenerator.default.async(function parseXcscheme$(_context){while(1){switch(_context.prev=_context.next){case 0:
(0,_logger.logTask)('parseXcscheme');















poisxSpawn=true;
appFolder=(0,_common.getAppFolder)(c);
appFolderName=(0,_index.getAppFolderName)(c,platform);
appTemplateFolder=(0,_common.getAppTemplateFolder)(c,platform);

debuggerId=poisxSpawn?
'':
'Xcode.DebuggerFoundation.Debugger.LLDB';
launcherId=poisxSpawn?
'Xcode.IDEFoundation.Launcher.PosixSpawn':
'Xcode.DebuggerFoundation.Launcher.LLDB';
schemePath=appFolderName+".xcodeproj/xcshareddata/xcschemes/"+appFolderName+".xcscheme";

injects=[
{pattern:'{{PLUGIN_DEBUGGER_ID}}',override:debuggerId},
{pattern:'{{PLUGIN_LAUNCHER_ID}}',override:launcherId}];


(0,_common.addSystemInjects)(c,injects);

(0,_fileutils.writeCleanFile)(
_path.default.join(appTemplateFolder,schemePath),
_path.default.join(appFolder,schemePath),
injects,null,c);case 11:case"end":return _context.stop();}}},null,null,null,Promise);};exports.parseXcscheme=parseXcscheme;
//# sourceMappingURL=xcschemeParser.js.map